# ============================================================
# Unified Helm Values - Shviki Fitness
# No external environments, all configs centralized
# ============================================================

global:
  clusterName: shviki-fitness-prod-eks
  awsRegion: eu-west-1
  namespace: sh

# ------------------------------------------------------------
# Node placement
# ------------------------------------------------------------
systemNodeSelector:
  nodeSelector:
    role: system
  tolerations:
    - key: "dedicated"
      operator: "Equal"
      value: "system"
      effect: "NoSchedule"

workloadNodeSelector:
  nodeSelector:
    role: workload

# ------------------------------------------------------------
# App definitions (for Argo CD Applications)
# ------------------------------------------------------------
apps:
  shvikiFitness:
    repoURL: "https://github.com/Kingofgrow/shviki-fitness"
    path: "helm/helm-chart"
    targetRevision: "main"

  monitoring:
    repoURL: "https://prometheus-community.github.io/helm-charts"
    chart: "kube-prometheus-stack"
    version: "61.2.0"
    valuesObject:
      grafana:
        adminPassword: admin
        service:
          type: LoadBalancer
        persistence:
          enabled: true
          size: 2Gi
      prometheus:
        prometheusSpec:
          retention: 7d
          scrapeInterval: 30s
          evaluationInterval: 30s
          storageSpec:
            volumeClaimTemplate:
              spec:
                storageClassName: gp3-ebs
                accessModes: ["ReadWriteOnce"]
                resources:
                  requests:
                    storage: 10Gi

  clusterAutoscaler:
    repoURL: "https://kubernetes.github.io/autoscaler"
    chart: "cluster-autoscaler"
    version: "9.29.1"
